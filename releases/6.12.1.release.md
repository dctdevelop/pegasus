# 6.12.1 - Release Notes
*Original release: 2022 06 29*

*Updated on: 2022 10 19*

##### Fixed

* Fixed, trigger notifications with geofence data include the entity name in the title
* Fixed, user creation email takes into account preference language setting
* Fixed, ecu flag was missing for the following fields in spanish language:
    * ecu_driving_range
    * ecu_average_power_consumption
    * ecu_instant_power_consumption
    * ecu_eng_inverter_actual_electric_power
    * ecu_mcu_temp
    * ecu_batt_pack_actual_power
    * ecu_batt_average_temp
* Fixed, displaying media status when video was in progress
* Fixed, the batt level multiplier for Teltonikas fmb920 and fmb140
* Fixed, entity group assignment in device api, sometimes it was out of sync when updating a vehicle's groups

##### Added

* Added, support for reading of battery voltage from Solar Powered Asset Tracker
* Added, 3 new rawdata fields with vehicle battery pack info
    * ecu_battery_pack_provision
    * ecu_battery_pack_tmp
    * ecu_battery_pack_volt
* Added, 2 new rawdata fields for traction current and voltage
    * ecu_traction_eng_inv_dc_volt
    * ecu_traction_eng_inv_dc_current
* Added a new media state when a video is available for download
* Added math filter for trigger template messages
    * subtract
    * multiply
    * divide
    * integer

Example: 

```
mph - 10 = {{body.mph | subtract:10}}
mph x 10 = {{body.mph | multiply:10}}
mph / 10 = {{body.mph | divide:10}}
int(mph) = {{body.mph | integer}}
int(mph / 10) = {{body.mph | divide:10 | integer}}
```

* Added, ev fields for the [json receiver version 4.9](https://support.digitalcomtech.com/pegasus/admin-guide-en/#developer-documentation)

field | description
-----:|-------------
can.ev.soc | EV state of charge in %
can.ev.soh | EV state of health in %
can.ev.motor.voltage | EV motor voltage in volts
can.ev.motor.current | EV motor current in amps

Added 23 new keys for related to Mercedez specific fields
* ecu_traction_eng_inv_dc_current
* ecu_percentage_of_regenerated_energy
* ecu_seat_belt_status
* ecu_automatic_gearshift_activation_switch
* ecu_location
* ecu_payload_percentage
* ecu_ramp_position
* ecu_fan_speed
* ecu_turbo_oil_temperature
* ecu_clutch_pressure
* ecu_lat
* ecu_lon
* ecu_al
* ecu_daimler_lights
* ecu_daimler_kneel
* ecu_daimler_brake_pads
* ecu_daimler_time
* ecu_daimler_alternator
* ecu_daimler_bellows
* ecu_daimler_trip_info
* ecu_daimler_axles
* ecu_daimler_parking_break
* ecu_daimler_windshield

##### Changed

* Changed, geofence limit raised from 30k to 32k per site
* Changed, the units for `ecu_hours` and `ecu_hours_idle` was corrected to reflect hours instead of centi-hours
* Changed, email notifications for triggers and tasks (scheduled reports) are sent to multiple recipients (instead of individually)
* Changed, Syrus 3 querying of RPM data via TAIP command: `>QXAOE##<` now ranges from 00-05
* Changed, optimization of track points received was applied to the following device manufacturers
    * meitrack
    * queclink
    * ruptela
    * teltonika
* This helps reduce the amount of unnecessary data when the devices report very frequently in the same location
* Changed, the default configuration `r142` is now assigned to Syrus Lynx devices
* Changed, trigger name supports up to 100 characters on POST

##### Improvements

* Improved, unexpected counter values are better handled
* Improved, trigger logs lookup handles larger volumes

**Third party devices**

* General
    * incoming third party devices ip and port are now mapped to pegasus fields

* Atrack
    * coast event improvements
    * sending commands is supported with `send raw COMMAND` via the console
    * j1939 fuel consumed implemented
    * added ibutton persistence

* Concox
    * some devices were not incrementing the odometer values 

* Queclink
    * RSSI value supported
    * added new sequential number in `sa_seqn` field
    * added support for bluetooth beacons with temperature

* Sinotrack
    * output manipulation is now possible
    * a default configuration is now assigned for labels purposes

* Teltonika
    * ibutton persistence is enabled by default and persisted until ignition is turned off
    * ignition was not being detected by some teltonika models under certain conditions
    * added event codes and battery voltage reading for model gh5200
    * added buttons/sensor support for gh5200

* Suntech
    * the correct battery level is now shown
    * added new event support for suntech st410
    * new alarm codes supported
    * output manipulation is now possible
    * jamming and openbox event definitions added